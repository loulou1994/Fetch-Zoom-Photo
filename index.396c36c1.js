const t=document.getElementById("canvas"),e=t.getContext("2d"),n=document.querySelector("button");let a,i,h=t.width,r=t.height,c=!1;const o=async()=>{const n=new Image;n.crossOrigin="Anonymous",c=!1,n.addEventListener("load",(o=>{c=!0,a=o.target;const s=n.height/n.width;t.height=r=h*s,e.drawImage(n,0,0,h,t.height),i=e.getImageData(0,0,h,r)})),n.src=await(async()=>{try{const t=await fetch("https://api.unsplash.com/photos/random/?client_id=iu201CIY9yJ7shXlQlsn6brCYjjU3iDaNeBAiiCaz0E");return(await t.json()).urls.regular}catch(t){console.log("error happened "+t)}})()},s=t=>{const{x:e,y:n}=t.target.getBoundingClientRect();return[t.clientX-e,t.clientY-n]};t.addEventListener("mousemove",(t=>{if(c){e.save(),e.clearRect(0,0,h,r),e.putImageData(i,0,0);const[n,c,o]=((t,n)=>{const[a,i]=s(n);return e.lineWidth=3,e.beginPath(),e.arc(a,i,t,0,2*Math.PI),e.stroke(),e.clip(),[a,i,t]})(45,t);let d=n/i.width*a.width-n-o/2,g=c/i.height*a.height-c-o/2;d=d<=0?0:d,g=g<=0?0:g,e.drawImage(a,0,0,a.width,a.height,-d,-g,a.width,a.height),e.restore()}})),n.addEventListener("click",o),o();
//# sourceMappingURL=index.396c36c1.js.map
