!function(){const t=document.getElementById("canvas"),e=t.getContext("2d"),n=document.querySelector("button");let a,i,c=t.width,h=t.height,o=!1;const r=async()=>{const n=new Image;n.crossOrigin="Anonymous",o=!1,n.addEventListener("load",(r=>{o=!0,a=r.target;const s=n.height/n.width;t.height=h=c*s,e.drawImage(n,0,0,c,t.height),i=e.getImageData(0,0,c,h)})),n.src=await(async()=>{try{const t=await fetch("https://api.unsplash.com/photos/random/?client_id=iu201CIY9yJ7shXlQlsn6brCYjjU3iDaNeBAiiCaz0E");return(await t.json()).urls.regular}catch(t){console.log("error happened "+t)}})()},s=t=>{const{x:e,y:n}=t.target.getBoundingClientRect();return[t.clientX-e,t.clientY-n]};t.addEventListener("mousemove",(t=>{if(o){e.save(),e.clearRect(0,0,c,h),e.putImageData(i,0,0);const[n,o,r]=((t,n)=>{const[a,i]=s(n);return e.lineWidth=3,e.beginPath(),e.arc(a,i,t,0,2*Math.PI),e.stroke(),e.clip(),[a,i,t]})(45,t);let d=n/i.width*a.width-n-r/2,g=o/i.height*a.height-o-r/2;d=d<=0?0:d,g=g<=0?0:g,e.drawImage(a,0,0,a.width,a.height,-d,-g,a.width,a.height),e.restore()}})),n.addEventListener("click",r),r()}();
//# sourceMappingURL=index.6b0e85e5.js.map
